# Database Structure

Database is a SQLite 3.0 DB and is composed of following tables:
* CVEReports: Main table that contains general information of imported Json report
* NVD: CVE imported by NVD DB of NIST
* Products: List of products with their versions affected by CVE
* Packages: Packages information of yocto generated image
* PackageProducts: Many-to-Many relationship between Packages and Products
* Issues: Many-to-many relationship between Packages and NVDs with their status and link to NIST web page of issue that may contains it's patch too in case of unpatched status.

## CVEReports
Fields of CVEReport table are:
* ID: Unique identifier of Report
* FileName: Imported Json report file name generated by CVECheck tool of yocto
* Version: Version of imported Json
* Date: Date and time of last modification of Json report file
* Owner: Owner of json file

## NVD
Fields of NVD table are:
* ID: Unique identifier of CVE
* Summary: Description of CVE
* SCOREV2: Score of NVD V2
* SCOREV3: Score of NVD V3
* Modified: Date of modification of CVE
* Vector: Vector that can be used to attack system affected by CVE vulnerability
* VectorString: Vector of attack score metrics - It maybe CVSS2.0, CVSS3.0, CVSS3.1 and CVSS4.0 score metric.

Here a description of [Common vulnerability scoring system](./CVSSDescription.md "CVSS Description")

## Products
Fields of Products table are:
* ID: Unique identifier of CVE
* Vendor: Vendor name
* Product: Product name
* Version_Start: Start version affected by CVE vulnerability
* Operator_Start: Operator that define the comparator for starting version
* Version_End: End version affected by CVE vulnerability
* Operator_End: Operator that define the comparator for ending version

## Packages
Fields of Packages table are:
* ID: Unique identifier od Package
* Name: Name of package
* Layer: Yocto layer that contains the package
* Version: Version of package
* CVEReportID: Foreign key to CVEReport tuple

## PackageProducts
Fields of PackageProducts table are:
* ID: Unique identifier of PackageProducts tuple
* Product: Name of product
* cvesInRecord: Number of CVEs that affects the product
* PackageID: Foreign key to package tuple

## Issues
Fields of Issue table are:
* ID: Unique identifier of Issues tuple
* Status: Status of issue
* Link: link to CVE vulnerability web page
* PackageID: Foreign key to package table tuple
* NVDID: Foreigh key to NVD table tuple

